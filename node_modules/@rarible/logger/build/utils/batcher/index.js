"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Batcher = void 0;
var Batcher = /** @class */ (function () {
    function Batcher(interval, handler) {
        this.interval = interval;
        this.handler = handler;
        this.queue = [];
    }
    Batcher.prototype.add = function (item) {
        var _this = this;
        this.queue.push(item);
        if (!this.timeout) {
            this.timeout = setTimeout(function () { return _this.drop(); }, this.interval);
        }
    };
    Batcher.prototype.drop = function () {
        this.handler(this.queue);
        this.queue = [];
        this.timeout = undefined;
    };
    return Batcher;
}());
exports.Batcher = Batcher;
