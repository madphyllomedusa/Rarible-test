"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPreparedOrder = void 0;
var tslib_1 = require("tslib");
var retry_1 = require("../../common/retry");
var add_order_type_1 = require("./add-order-type");
function getPreparedOrder(orderApi, order) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var response;
        return (0, tslib_1.__generator)(this, function (_a) {
            switch (_a.label) {
                case 0:
                    if (!(typeof order === "number")) return [3 /*break*/, 2];
                    return [4 /*yield*/, (0, retry_1.retry)(10, 1000, function () { return orderApi.getOrderByOrderId({ orderId: order.toString() }); })];
                case 1:
                    response = _a.sent();
                    return [2 /*return*/, (0, add_order_type_1.addOrderType)(response)];
                case 2: return [2 /*return*/, (0, add_order_type_1.addOrderType)(order)];
            }
        });
    });
}
exports.getPreparedOrder = getPreparedOrder;
