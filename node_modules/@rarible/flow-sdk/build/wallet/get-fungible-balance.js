"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFungibleBalance = void 0;
var tslib_1 = require("tslib");
var transaction_1 = require("../common/transaction");
var balance_1 = require("../tx-code-store/balance");
var config_1 = require("../config/config");
function getFungibleBalance(fcl, network, address, currency) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var params;
        return (0, tslib_1.__generator)(this, function (_a) {
            if (fcl) {
                params = (0, balance_1.getBalanceCode)(fcl, currency, address);
                return [2 /*return*/, (0, transaction_1.runScript)(fcl, params, config_1.CONFIGS[network].mainAddressMap)];
            }
            throw new Error("Fcl is required for balance request");
        });
    });
}
exports.getFungibleBalance = getFungibleBalance;
