"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendRequest = void 0;
var tslib_1 = require("tslib");
var config_1 = require("../../config/config");
var http_request_1 = require("./http-request");
var utils_1 = require("./utils");
function sendRequest(network, currency, address) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        return (0, tslib_1.__generator)(this, function (_a) {
            return [2 /*return*/, (0, http_request_1.httpRequest)({
                    hostname: config_1.NODE_TRANSPORT_CONFIG[network],
                    path: "/v1/scripts?block_height=sealed",
                    method: "POST",
                    body: {
                        "script": (0, utils_1.getPreparedCadenceScript)(network, currency),
                        "arguments": [(0, utils_1.getPreparedAddressArgument)(address)],
                    },
                })];
        });
    });
}
exports.sendRequest = sendRequest;
