"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPreparedCadenceScript = exports.getPreparedAddressArgument = void 0;
var flow_sdk_scripts_1 = require("@rarible/flow-sdk-scripts");
var config_1 = require("../../config/config");
var template_replacer_1 = require("../../common/template-replacer");
function getPreparedAddressArgument(address) {
    return dataToBase64String(JSON.stringify({ "type": "Address", "value": address }));
}
exports.getPreparedAddressArgument = getPreparedAddressArgument;
function getPreparedCadenceScript(network, currency) {
    var map = config_1.CONFIGS[network].mainAddressMap;
    switch (currency) {
        case "FLOW":
            return dataToBase64String((0, template_replacer_1.replaceImportAddresses)(flow_sdk_scripts_1.getBalanceScripts.flow, map));
        case "FUSD":
            return dataToBase64String((0, template_replacer_1.replaceImportAddresses)(flow_sdk_scripts_1.getBalanceScripts.fusd, map));
        default:
            throw new Error("Flow-sdk Error: Unsupported currency");
    }
}
exports.getPreparedCadenceScript = getPreparedCadenceScript;
function dataToBase64String(data) {
    return Buffer.from(data).toString("base64");
}
