"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkChainId = void 0;
var tslib_1 = require("tslib");
var get_required_wallet_1 = require("../common/get-required-wallet");
/**
 * Check the wallet chainId is the same as in the config
 * @param ethereum Wallet
 * @param config EthereumConfig
 */
function checkChainId(ethereum, config) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var networkId;
        return (0, tslib_1.__generator)(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, (0, get_required_wallet_1.getRequiredWallet)(ethereum).getChainId()];
                case 1:
                    networkId = _a.sent();
                    if (config.chainId !== networkId) {
                        throw new Error("Config chainId=".concat(config.chainId, ", but wallet chainId=").concat(networkId));
                    }
                    return [2 /*return*/, true];
            }
        });
    });
}
exports.checkChainId = checkChainId;
