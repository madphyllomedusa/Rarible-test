"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getErc721Contract = void 0;
var tslib_1 = require("tslib");
var domain_1 = require("../domain");
function getErc721Contract(ethereum, version, address) {
    return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
        var _a, erc721v3Abi, erc721v2Abi, erc721v1Abi;
        return (0, tslib_1.__generator)(this, function (_b) {
            switch (_b.label) {
                case 0:
                    _a = version;
                    switch (_a) {
                        case domain_1.ERC721VersionEnum.ERC721V3: return [3 /*break*/, 1];
                        case domain_1.ERC721VersionEnum.ERC721V2: return [3 /*break*/, 3];
                        case domain_1.ERC721VersionEnum.ERC721V1: return [3 /*break*/, 5];
                    }
                    return [3 /*break*/, 7];
                case 1: return [4 /*yield*/, Promise.resolve().then(function () { return (0, tslib_1.__importStar)(require("./v3")); })];
                case 2:
                    erc721v3Abi = (_b.sent()).erc721v3Abi;
                    return [2 /*return*/, ethereum.createContract(erc721v3Abi, address)];
                case 3: return [4 /*yield*/, Promise.resolve().then(function () { return (0, tslib_1.__importStar)(require("./v2")); })];
                case 4:
                    erc721v2Abi = (_b.sent()).erc721v2Abi;
                    return [2 /*return*/, ethereum.createContract(erc721v2Abi, address)];
                case 5: return [4 /*yield*/, Promise.resolve().then(function () { return (0, tslib_1.__importStar)(require("./v1")); })];
                case 6:
                    erc721v1Abi = (_b.sent()).erc721v1Abi;
                    return [2 /*return*/, ethereum.createContract(erc721v1Abi, address)];
                case 7: throw new Error("Unsupported ERC721 version");
            }
        });
    });
}
exports.getErc721Contract = getErc721Contract;
